import{d as b,u as p,r as d,J as v,h as c,i as u,w as m,x as D,l as t,L as g,M as L,m as B,t as k,n as S,Y as w,V as C}from"./index-BlEQ5104.js";const N=b({__name:"DeleteModal",props:{visible:{type:Boolean,default:!1},title:{type:String,required:!0},deleteButtonLabel:{type:String,required:!0},errorNotificationTitle:{type:String,required:!0},deleteFunction:{type:Function,required:!0}},emits:["close","reloadData"],setup(l,{emit:y}){const r=l,o=y,{t:n}=p();let i=d({delete:!1}),e=d({delete:"",deleteDetails:""});v(()=>r.visible,()=>{r.visible&&(e.value.delete="",e.value.deleteDetails="")});async function f(){e.value.delete="",e.value.deleteDetails="",i.value.delete=!0;try{await r.deleteFunction(),o("close"),o("reloadData")}catch(a){console.error(a),e.value.delete=n(C(a)),e.value.deleteDetails=a.toString()}finally{i.value.delete=!1}}return(a,s)=>(c(),u(t(w),{visible:l.visible,title:l.title,kind:"warning",primaryLabel:l.deleteButtonLabel,cancelLabel:t(n)("common.cancel"),primaryButtonKind:"danger",primaryButtonDisabled:t(i).delete,primaryButtonLoading:t(i).delete,closeAriaLabel:t(n)("common.close"),onClose:s[0]||(s[0]=q=>o("close")),onPrimaryClick:f},{default:m(()=>[D(a.$slots,"default"),t(e).delete?(c(),u(t(g),{key:0,kind:"error",title:l.errorNotificationTitle,description:t(e).delete,class:"mt-4"},L({_:2},[t(e).deleteDetails?{name:"details",fn:m(()=>[B(k(t(e).deleteDetails),1)]),key:"0"}:void 0]),1032,["title","description"])):S("",!0)]),_:3},8,["visible","title","primaryLabel","cancelLabel","primaryButtonDisabled","primaryButtonLoading","closeAriaLabel"]))}});export{N as _};
