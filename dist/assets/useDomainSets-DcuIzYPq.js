import{d as A,g as B,h as u,i as E,w as _,k,l as S,I as N,m as I,t as w,q as m,z as D,ad as C,av as O,j as z,n as V,s as Q,u as H,r as g,c as Z,e as L,V as x,bm as h,bp as $,bQ as F,bn as G,bo as P,bq as W,bP as J,bO as K}from"./index-BlEQ5104.js";import{u as j}from"./useObjects-D-lIOcFM.js";const M={key:0},R={key:0,class:"space-y-1"},U={class:"inline-flex items-center gap-1.5"},X={key:0},Y={key:1},q={key:1},se=A({__name:"HostSetTooltip",props:{hostSetId:{type:String,required:!0},allHostSets:{type:Array}},setup(l){const b=l,{getObjectIcon:i}=j();function t(c){var d;return(d=b.allHostSets)==null?void 0:d.find(p=>p.id===c)}return(c,d)=>{const p=B("font-awesome-icon");return u(),E(S(Q),{placement:"top",class:"shrink-0"},{trigger:_(()=>[k(S(N),{class:"flex items-center gap-1.5"},{default:_(()=>{var s,n;return[k(p,{icon:S(i)(((s=t(l.hostSetId))==null?void 0:s.subtype)||""),class:"h-4 w-4","aria-hidden":"true"},null,8,["icon"]),I(" "+w(((n=t(l.hostSetId))==null?void 0:n.name)||"-"),1)]}),_:1})]),content:_(()=>{var s,n;return[(s=t(l.hostSetId))!=null&&s.ipaddr?(u(),m("div",M,[(u(!0),m(D,null,C([(n=t(l.hostSetId))==null?void 0:n.ipaddr],(e,r)=>(u(),m("div",{key:r},[e?(u(),m("ul",R,[(u(!0),m(D,null,C(e,o=>{var a,f;return u(),m("li",{key:o,class:O({"list-inside list-disc":e.length>1})},[z("span",U,[o.includes("/ns_")?(u(),m("span",X,[k(p,{icon:S(i)(((a=t(o))==null?void 0:a.subtype)||""),class:"h-4 w-4","aria-hidden":"true"},null,8,["icon"]),I(" "+w(((f=t(o))==null?void 0:f.name)||"-"),1)])):(u(),m("span",Y,w(o),1))])],2)}),128))])):V("",!0)]))),128))])):(u(),m("div",q,"-"))]}),_:1})}}});function te(){const{t:l}=H(),{getObjectIcon:b}=j(),i=g([]),t=g(!1),c=g(""),d=g(""),p=Z(()=>i.value.map(e=>({id:e.id,label:e.name,description:l(`standalone.objects.subtype_${e.subtype}`),icon:b(e.subtype)})));async function s(){t.value=!0,i.value=[],c.value="",d.value="";try{const e=await L("ns.objects","list-hosts");i.value=e.data.values}catch(e){console.error(e),c.value=l(x(e)),d.value=e.toString()}finally{t.value=!1}}function n(e,r){var f;const o=/[^a-zA-Z0-9-]/g;r=r.replace(o,"");let a=!1;if(a=["name","subtype"].some(v=>{const y=e[v];return new RegExp(r,"i").test(y==null?void 0:y.replace(o,""))}),a||(a=!!((f=e.ipaddr)!=null&&f.some(v=>new RegExp(r,"i").test(v==null?void 0:v.replace(o,"")))),a))return!0}return{hostSets:i,listHostSets:s,loadingListHostSets:t,errorListHostSets:c,errorListHostSetsDetails:d,hostSetsComboboxOptions:p,searchStringInHostSet:n}}function ae(){const{t:l}=H(),b=g([]),i=g(!1),t=g(""),c=g("");h.add($),h.add(F),h.add(G),h.add(P),h.add(W),h.add(J),h.add(K);async function d(){i.value=!0,b.value=[],t.value="",c.value="";try{const s=await L("ns.objects","list-domain-sets");b.value=s.data.values}catch(s){console.error(s),t.value=l(x(s)),c.value=s.toString()}finally{i.value=!1}}function p(s,n){var o;const e=/[^a-zA-Z0-9-]/g;n=n.replace(e,"");let r=!1;if(r=["name"].some(a=>{const f=s[a];return new RegExp(n,"i").test(f==null?void 0:f.replace(e,""))}),r||(r=!!((o=s.domain)!=null&&o.some(a=>new RegExp(n,"i").test(a==null?void 0:a.replace(e,"")))),r))return!0}return{domainSets:b,listDomainSets:d,loadingListDomainSets:i,errorListDomainSets:t,errorListDomainSetsDetails:c,searchStringInDomainSet:p}}export{se as _,ae as a,te as u};
