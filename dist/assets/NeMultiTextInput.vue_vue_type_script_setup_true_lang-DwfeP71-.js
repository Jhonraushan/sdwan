import{c4 as U,c5 as A,aG as P,c6 as R,d as j,u as q,r as h,J as $,o as D,g as F,h as o,q as m,av as C,j as k,t as f,x as S,n as g,z as E,ad as G,k as v,w as I,m as J,l,_ as B,i as _,a0 as Q,Q as w}from"./index-BlEQ5104.js";import{i as H,b as W}from"./isArrayLikeObject-CpCvCe5A.js";var X=Math.max;function Y(i){if(!(i&&i.length))return[];var c=0;return i=U(i,function(d){if(H(d))return c=X(d.length,c),!0}),A(c,function(d){return P(i,R(d))})}var Z=W(Y);const x={class:"mr-2 text-sm font-medium leading-6 text-gray-700 dark:text-gray-200"},ee={key:0,class:"ml-2 text-sm font-normal"},ae={class:"space-y-4"},le={key:0,class:C("mt-2 text-sm text-rose-700 dark:text-rose-400")},oe=j({__name:"NeMultiTextInput",props:{useKeyInput:{type:Boolean,default:!1},keyInputType:{},required:{type:Boolean,default:!1},modelValue:{},addItemLabel:{},invalidMessages:{},generalInvalidMessage:{},invalidKeyMessages:{},keyOptions:{},title:{},optional:{type:Boolean},disableInputs:{type:Boolean},disableAddButton:{type:Boolean},optionalLabel:{},keyInputPlaceholder:{},placeholder:{}},emits:["delete-item","add-item","update:modelValue"],setup(i,{expose:c,emit:d}){const{t:p}=q(),s=i;c({focus:N});const b=d,u=h([]),t=h([]),M=h();function V(){t.value=[...s.useKeyInput?s.modelValue.map(e=>e.value):s.modelValue],s.useKeyInput&&(u.value=[...s.modelValue.map(e=>e.key)])}function y(){s.useKeyInput?b("update:modelValue",Z(u.value,t.value).map(([e,r])=>({key:e,value:r}))):b("update:modelValue",t.value)}function O(e){t.value.splice(e,1),s.useKeyInput&&u.value.splice(e,1),y(),b("delete-item")}function z(){t.value.push(""),s.useKeyInput&&u.value.push(""),y(),b("add-item")}function T(e,r){t.value[e]=r,y()}function K(e,r){u.value[e]=r,y()}function N(){var e;(e=M.value)==null||e.focus()}return $(()=>s.modelValue,()=>{V()},{deep:!0}),D(()=>{V()}),(e,r)=>{const L=F("font-awesome-icon");return o(),m("div",null,[e.title?(o(),m("div",{key:0,class:C(`${t.value.length>0||e.generalInvalidMessage?"mb-2":""} flex items-center justify-between`)},[k("div",null,[k("span",x,f(e.title),1),S(e.$slots,"tooltip")]),e.optional?(o(),m("span",ee,f(e.optionalLabel),1)):g("",!0)],2)):g("",!0),k("div",ae,[(o(!0),m(E,null,G(t.value,(se,a)=>(o(),m("div",{key:a,class:"flex items-start gap-2"},[e.useKeyInput&&e.keyInputType==="combobox"?(o(),_(l(Q),{key:0,options:e.keyOptions,"model-value":u.value[a],"onUpdate:modelValue":n=>K(a,n),"invalid-message":e.invalidKeyMessages?e.invalidKeyMessages[a]:"",placeholder:e.keyInputPlaceholder,noResultsLabel:l(p)("ne_combobox.no_results"),limitedOptionsLabel:l(p)("ne_combobox.limited_options_label"),noOptionsLabel:l(p)("ne_combobox.no_options_label"),"selected-label":l(p)("ne_combobox.selected"),"user-input-label":l(p)("ne_combobox.user_input_label"),optionalLabel:l(p)("common.optional")},null,8,["options","model-value","onUpdate:modelValue","invalid-message","placeholder","noResultsLabel","limitedOptionsLabel","noOptionsLabel","selected-label","user-input-label","optionalLabel"])):e.useKeyInput&&e.keyInputType==="text"?(o(),_(l(w),{key:1,"model-value":u.value[a],"onUpdate:modelValue":n=>K(a,n),placeholder:e.keyInputPlaceholder,"invalid-message":e.invalidKeyMessages?e.invalidKeyMessages[a]:""},null,8,["model-value","onUpdate:modelValue","placeholder","invalid-message"])):g("",!0),v(l(w),{value:t.value[a],onInput:n=>T(a,n.target.value),class:"grow","invalid-message":e.invalidMessages?e.invalidMessages[a]:"",disabled:e.disableInputs,placeholder:e.placeholder,ref_for:!0,ref:n=>{a==0&&(M.value=n)}},null,8,["value","onInput","invalid-message","disabled","placeholder"]),v(l(B),{kind:"tertiary",size:"md",onClick:n=>O(a),disabled:a===0&&e.required},{default:I(()=>[v(L,{icon:["fas","trash"],class:"h-4 w-4 py-1","aria-hidden":"true"})]),_:2},1032,["onClick","disabled"])]))),128)),e.generalInvalidMessage?(o(),m("p",le,f(e.generalInvalidMessage),1)):g("",!0),v(l(B),{class:"mt-4",size:"md",onClick:z,disabled:e.disableAddButton,kind:"secondary"},{prefix:I(()=>[v(L,{icon:["fas","circle-plus"],class:"h-4 w-4","aria-hidden":"true"})]),default:I(()=>[J(" "+f(e.addItemLabel),1)]),_:1},8,["disabled"])])])}}});export{oe as _};
